#!/bin/bash

# Required parameters:
# @raycast.schemaVersion 1
# @raycast.title inbox
# @raycast.mode silent

# Optional parameters:
# @raycast.icon ðŸ’«

open "omnifocus://localhost/omnijs-run?script=%23%21%2Fbin%2Fbash%0A%0A%23%20Required%20parameters%3A%0A%23%20%40raycast%2EschemaVersion%201%0A%23%20%40raycast%2Etitle%201st%20Inbox%20Item%0A%23%20%40raycast%2Emode%20silent%0A%0A%23%20Optional%20parameters%3A%0A%23%20%40raycast%2Eicon%20%F0%9F%93%A5%0A%0Aopen%20%22omnifocus%3A%2F%2Flocalhost%2Fomnijs%2Drun%3Fscript%3D%2528async%2520%2528%2529%2520%253D%253E%2520%257B%250D%2509try%2520%257B%250D%2509%2509function%2520createUtterance%2528textToSpeak%2529%257B%250D%2509%2509%2509voiceObj%2520%253D%2520Speech%252EVoice%252EallVoices%252Efind%2528%250D%2509%2509%2509%2509voice%2520%253D%253E%2520voice%252Ename%252EstartsWith%2528%2522Alex%2522%2529%250D%2509%2509%2509%2529%250D%2509%2509%2509voiceRate%2520%253D%25200%252E4%250D%2509%2509%2509utterance%2520%253D%2520new%2520Speech%252EUtterance%2528textToSpeak%2529%250D%2509%2509%2509utterance%252Evoice%2520%253D%2520voiceObj%250D%2509%2509%2509utterance%252Erate%2520%253D%2520voiceRate%250D%2509%2509%2509return%2520utterance%250D%2509%2509%257D%250D%2509%2509var%2520synthesizer%2520%253D%2520new%2520Speech%252ESynthesizer%2528%2529%250D%250D%2509%2509var%2520win%2520%253D%2520document%252Ewindows%255B0%255D%250D%2509%2509win%252Eperspective%2520%253D%2520Perspective%252EBuiltIn%252EInbox%250D%2509%2509if%2520%2528app%252EplatformName%2520%253D%253D%253D%2520%2522iOS%2522%2520%2526%2526%2520app%252EuserVersion%252EversionString%2520%253D%253D%253D%2520%25223%252E13%2522%2529%257B%250D%2509%2509%2509var%2520task%2520%253D%2520inbox%255B0%255D%250D%2509%2509%2509if%2528task%2520%253D%253D%2520undefined%2529%257B%250D%2509%2509%2509%2509throw%2520%257B%250D%2509%2509%2509%2509%2509name%253A%2520%2522Missing%2520Items%2522%252C%250D%2509%2509%2509%2509%2509message%253A%2520%2522There%2520are%2520no%2520Inbox%2520items%252E%2522%250D%2509%2509%2509%2509%257D%250D%2509%2509%2509%257D%2520else%2520%257B%250D%2509%2509%2509%2509win%252EselectObjects%2528%255Btask%255D%2529%250D%2509%2509%2509%257D%250D%2509%2509%257D%2520else%2520%257B%250D%2509%2509%2509tree%2520%253D%2520win%252Econtent%250D%2509%2509%2509tree%252Eselect%2528%255B%255D%2529%250D%2509%2509%2509tree%252ErootNode%252Echildren%252EforEach%2528node%2520%253D%253E%2520node%252Ecollapse%2528true%2529%2529%250D%2509%2509%2509firstTask%2520%253D%2520tree%252ErootNode%252Echildren%255B0%255D%250D%2509%2509%2509if%2528firstTask%2529%257B%250D%2509%2509%2509%2509tree%252Eselect%2528%255BfirstTask%255D%2529%250D%2509%2509%2509%2509firstTask%252Eexpand%2528true%2529%250D%2509%2509%2509%2509firstTask%252EexpandNote%2528%2529%250D%2509%2509%2509%2509firstTask%252Echildren%252EforEach%2528node%2520%253D%253E%2520node%252EexpandNote%2528true%2529%2529%250D%2509%2509%2509%257D%250D%2509%2509%257D%250D%2509%250D%2509%2509utterance%2520%253D%2520createUtterance%2528%2522Ready%2521%2522%2529%250D%2509%2509synthesizer%252EspeakUtterance%2528utterance%2529%250D%2509%257D%250D%2509catch%2528err%2529%257B%250D%2509%2509utterance%2520%253D%2520createUtterance%2528err%252Emessage%2529%250D%2509%2509synthesizer%252EspeakUtterance%2528utterance%2529%250D%2509%2509%252F%252Fnew%2520Alert%2528err%252Ename%252C%2520err%252Emessage%2529%252Eshow%2528%2529%2509%250D%2509%257D%250D%257D%2529%2528%2529%253B%22"
